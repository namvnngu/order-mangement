(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){e.exports=a(65)},39:function(e,t,a){},40:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(30),o=a.n(c),l=(a(39),a(40),a(2)),i=a(15),u=function(){return r.a.createElement("div",{className:"home-container"},r.a.createElement("h1",null,"Welcome to order management"," ",r.a.createElement("span",{role:"img","aria-label":"package"},"\ud83d\udce6")),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/orders"},"Click here")," to view the order page"))},s=a(4),m=a(32),d=a(8),p=a.n(d),E=a(10),f=a(11),h=a.n(f);function g(){return(g=Object(E.a)(p.a.mark((function e(t,a,n,r,c){var o,l,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,e.next=3,h.a.get(k+"/api/orders/search?page=".concat(a,"&limit=").concat(t,"&method=").concat(c,"&keyword=").concat(n));case 3:return o=e.sent,l=o.data,i=l,r=!1,e.abrupt("return",{type:"KEYWORD_SEARCH_ACTION",payload:{orders:i,loading:r}});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){var t=e.dispatch,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],l=c[1];return r.a.createElement("form",{className:"search-container form-group row",onSubmit:function(e){e.preventDefault(),document.getElementById("keyword").value="";var a=function(e){return{type:"SEARCH_REQUEST_ACTION",payload:{keyword:e,loading:!0}}}(o);t({type:"SEARCH_REQUEST_ACTION",payload:a.payload})}},r.a.createElement("label",{htmlFor:"search",className:"search-field col-form-label"},r.a.createElement(m.a,{className:"search-icon"}),"Search"),r.a.createElement("input",{id:"keyword",type:"text",onChange:function(e){l(e.target.value)},className:"form-control col-sm-9",placeholder:"Enter keywords to find your orders"}))};function O(){return(O=Object(E.a)(p.a.mark((function e(t,a,n,r,c,o){var l,i,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,e.next=3,h.a.get(k+"/api/orders/date?page=".concat(a,"&limit=").concat(t,"&method=").concat(r,"&from=").concat(c,"&to=").concat(o));case 3:return l=e.sent,i=l.data,u=i,n=!1,e.abrupt("return",{type:"DATE_SUCCESS_ACTION",payload:{orders:u,loading:n}});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){var t=e.dispatch,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(""),u=Object(s.a)(i,2),m=u[0],d=u[1];function p(e){l(e.target.value)}return r.a.createElement("div",{className:"calendar"},r.a.createElement("div",null,r.a.createElement("b",null,"Created date"),r.a.createElement("div",{className:"calendar-container"},r.a.createElement("form",{action:"",onSubmit:function(e){if(e.preventDefault(),""!==o&&""!==m){var a=function(e,t){return{type:"DATE_REQUEST_ACTION",payload:{startDate:e,endDate:t,loading:!0}}}(o,m);t({type:"DATE_REQUEST_ACTION",payload:a.payload})}}},r.a.createElement("input",{value:o,type:"date",name:"startDate",id:"startDate",onChange:p,onChangeCapture:p}),r.a.createElement("input",{value:m,type:"date",name:"endDate",id:"endDate",onChange:function(e){d(e.target.value)}}),r.a.createElement("button",{className:"submit-button"},"Submit Date")))))},b=function(e){var t=e.state,a=Object(n.useState)(0),c=Object(s.a)(a,2),o=c[0],l=c[1],i=t.orders;return Object(n.useEffect)((function(){if(0!==i.length){var e=i.reduce((function(e,t){return e+t.totalAmount}),0);l(e)}else l(0)}),[o,i]),r.a.createElement("div",{className:"total"},"Total: ",r.a.createElement("span",null," $",o))};function C(){return(C=Object(E.a)(p.a.mark((function e(t,a,n,r){var c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,e.next=3,h.a.get(k+"/api/orders/filter?page=".concat(a,"&limit=").concat(t,"&method=").concat(r));case 3:return c=e.sent,o=c.data,n=!1,e.abrupt("return",{type:"LIST_ORDER_SUCCESS",payload:{orders:o,loading:n}});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(e,t,a,n){return C.apply(this,arguments)},N=a(14),S=a(33),_=a.n(S),A=function(e){var t=e.state,a=e.dispatch,c=t.orders,o=t.limit,l=t.loading,i=t.goTo,u=t.startDate,m=t.endDate,d=t.keyword,p=Object(n.useState)(!1),E=Object(s.a)(p,2),f=E[0],h=E[1];return Object(n.useEffect)((function(){""===d&&""===u&&""===m&&T(o,i,l,f?"ascending":"").then((function(e){a({type:"LIST_ORDER_SUCCESS",payload:e.payload})})).catch((function(e){return console.log(e)}))}),[o,a,l,i,f]),Object(n.useEffect)((function(){""!==d&&function(e,t,a,n,r){return g.apply(this,arguments)}(o,i,d,l,f?"ascending":"").then((function(e){a({type:"KEYWORD_SEARCH_ACTION",payload:e.payload})})).catch((function(e){return console.log(e)}))}),[d,o,l,i,f,a]),Object(n.useEffect)((function(){""!==u&&""!==m&&function(e,t,a,n,r,c){return O.apply(this,arguments)}(o,i,l,f?"ascending":"",u,m).then((function(e){a({type:"DATE_SUCCESS_ACTION",payload:e.payload})})).catch((function(e){return console.log(e)}))}),[o,l,i,f,a,u,m]),r.a.createElement("div",{className:"table-container"},t.loading?r.a.createElement("div",{className:"loader"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Order Name"),r.a.createElement("th",{scope:"col"},"Customer Company"),r.a.createElement("th",{scope:"col"},"Customer Name"),r.a.createElement("th",{scope:"col",style:{cursor:"pointer"},onClick:function(){return h(!f)}},"Order Date"," ",f?r.a.createElement(N.d,{className:"pagination-icon"}):r.a.createElement(N.b,{className:"pagination-icon"})),r.a.createElement("th",{scope:"col"},"Delivered Amount"),r.a.createElement("th",{scope:"col"},"Total Amount"))),r.a.createElement("tbody",null,c.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("div",{style:{fontWeight:"bold"}},e.orderName)),r.a.createElement("td",null,e.customerCompany),r.a.createElement("td",null,e.customerName),r.a.createElement("td",null,_()(e.orderDate).format("MMM Do, LT")),r.a.createElement("td",null,0===e.deliveredAmount?"--":e.deliveredAmount),r.a.createElement("td",null,e.totalAmount))}))))))},j=function(e){var t=e.state,a=e.dispatch,c=t.orders,o=t.goTo,l=t.currentPage,i=t.limit,u=Object(n.useState)(0),m=Object(s.a)(u,2),d=m[0],f=m[1],g=Object(n.useState)(1),y=Object(s.a)(g,2),O=y[0],v=y[1];return Object(n.useEffect)((function(){(function(){var e=Object(E.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(k+"/api/orders");case 2:t=e.sent,a=t.data,f(a.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"pagination-container"},r.a.createElement("span",{className:"total-order"},"Total ",c.length),r.a.createElement("select",{name:"limit",id:"limit",onChange:function(e){return a({type:"LIMIT_ACTION",payload:Number(e.target.value)})}},r.a.createElement("option",{value:5},"5/page"),r.a.createElement("option",{value:15},"15/page"),r.a.createElement("option",{value:25},"25/page")),r.a.createElement("span",{className:"current-page"},r.a.createElement(N.a,{className:"pagination-icon",onClick:function(){var e=1;v(e=l-1<1?1:l-1),a({type:"GO_TO_ACTION",payload:e})}}),r.a.createElement("input",{type:"number",min:"1",value:0===l?"":l,readOnly:!0}),r.a.createElement(N.c,{className:"pagination-icon",onClick:function(){var e=1;v(e=l+1>d/i?l:l+1),a({type:"GO_TO_ACTION",payload:e})}})),r.a.createElement("span",{className:"go-to"},"Go to"),r.a.createElement("input",{type:"number",name:"goTo",id:"goTo",value:0===O?"":O,onChange:function(e){var t=Number(e.target.value),n=1;v(n=t<0?1:t>d/i?o:t),a({type:"GO_TO_ACTION",payload:n})}}))},D=a(12);var I=function(e,t){switch(t.type){case"LIMIT_ACTION":return Object(D.a)({},e,{limit:t.payload});case"GO_TO_ACTION":return Object(D.a)({},e,{goTo:t.payload,currentPage:t.payload});case"SEARCH_REQUEST_ACTION":return Object(D.a)({},e,{},t.payload);case"KEYWORD_SEARCH_ACTION":return Object(D.a)({},e,{orders:t.payload.orders,loading:t.payload.loading});case"DATE_REQUEST_ACTION":case"DATE_SUCCESS_ACTION":return Object(D.a)({},e,{},t.payload);case"LIST_ORDER_SUCCESS":return Object(D.a)({},e,{loading:t.payload.loading,orders:t.payload.orders});default:return e}},w={loading:!0,startDate:"",endDate:"",keyword:"",totalPrice:0,totalOrders:0,limit:5,currentPage:1,goTo:1,orders:[]},R=function(){var e=Object(n.useReducer)(I,w),t=Object(s.a)(e,2),a=t[0],c=t[1];return console.log(a.startDate,a.endDate),r.a.createElement("div",{className:"container orders"},r.a.createElement(y,{dispatch:c}),r.a.createElement(v,{dispatch:c}),r.a.createElement(b,{state:a}),r.a.createElement("a",{href:"/orders",className:"refresh-button"},"REFRESH"),r.a.createElement(A,{state:a,dispatch:c}),r.a.createElement(j,{state:a,dispatch:c}))},k="https://order-managment.herokuapp.com";var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:u}),r.a.createElement(l.a,{exact:!0,path:"/orders",component:R})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.23ef13fe.chunk.js.map